---
title: "Rethinking. Поглавје 4. Белешки"
author: "discindo"
date: "February 2, 2020"
output:
  html_document:
    df_print: paged
    toc: yes
    toc_float: yes
    toc_depth: 2
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval=TRUE)
```

```{r}
suppressPackageStartupMessages(library(rethinking))
suppressPackageStartupMessages(library(ggplot2))
```


# За

Целта на ова поглавје е очигледна. Да научиме како да правиме линеарна регресија од нула, во Баесова смисла. Ова е супер интересно, бидејќи не охрабрува да мислиме за претпоставките директно и да го користиме ова сфаќање за да го креираме моделот од почеток. Скоро секој од нас има направено регресија претходно (и ексел се важи) но ретко кој од нас го има тоа направено преку рачно местење на релевантните параметри или дистрибуции. Добро разбирање на оваа процедура е неопходно за покомплицираните модели (машинско учење, вештачка интелегенција, ...).

# Што направивме до сега

Материјалот во првите три поглавја од книгата е резимиран во претходниот документ (`c3.Rmd/c3.html`). Претходните поглавја го втемелуваат Баесовиот начин на размислување (кој преовладува во статистичките школи во светот) и воведуваат основни алатки за креирање, сумаризирање, и симулирање на примерицо од постериорната дистрибуција. Иако може да се почне со учење тука (со линеарна регресија) овој документ претпоставува дека претходниот материјал е совладан.

# Јазик за опишување модели

Почнуваме со практичниот дел од поглавје 4, имено како да опишеме, креираме, и извришиме еден линеарен модел. Претходниот текст е супер интересен, како од историска и концептуална смисла, така и од аспект на изворите на нормалната (Гаусова) дистрибуција (собирање или множење на мали флуктуации). Читањето на тие страници ако ништо друго може да ве научи како да симулирате нормални дистрибуции без готови функции (пр. `rnorm` во `R`). Но исто така посочува на разликата помегу предикција и каузални врски: геоцентричниот модел е еквивалентен на машинско учење бидејќи вистинските причини и последици не се од примарен интерес, она што не интересира е предвидување на вредност што е можно подобро (координати на небото или кликање на вебсајт). Додека прашањето „зоштоЌ е второстепено.

Да се вратиме на терминологија.   

1) Прво имаме некои мерења (обзервации) што сакаме да ги разбереме или предвидиме. Тоа е _резултантната_ променлива или променливи (избегнувам да го користам терминот „зависна“)

2) За секоја од овие _резултантни_ променливи дефинираме дистрибуција за веројатност, која ги дава можностите за индивидуалните мерења. За линеарна регресија оваа дистрибуција е секогаш Нормална.

3) Второ, наоѓаме мерења (обзервации) кои сакаме да ги користиме за да ја разбереме или предвидиме резултантните променливи. Овие ги нарекуваме предвидувачки ?? променливи (пак избегнувам „независни“. 

4) Ја поврзуваме точната форма на дистрибуцијата на веројатноста со променливите за предвидување. Точната форма подразбира прецизната локација, варијанца, и други компоненти, ако ги има. Со овој акт, приморани сме да ги дефинираме и именуваме сите параметри на моделот.

5) На крај, одбираме приорни дистрибуции за сите параметри на моделот. Приорните дистрибуции ги дефинираат првичните информации на моделот, пред да бидат земени во предвид видените податоци.

Тогаш го сумираме моделот на начин сличен на овој:

    outcome i ∼ Normal(μ_i, σ)
            μ_i = β × predictor_i
            β ∼ Normal(0, 10)
            σ ∼ HalfCauchy(0, 1)
            
Она што следи е изкажување на овој математички јазик во форма на код, без да правиме математички манипулации. Во основа, овие модели дефинираат начини на кои може да дојдеме до обзервациите на _резултантните_ променливи имајќи ги во предвид _предвидувачките_ променливи.

# Линеарна регресија рачно!

Тука ќе ја дефинираме и извршиме нашата прва линеарна регресија со решеткаво приближување. Не интересира висина на популација на некоја етничка група на луѓе од Африка. Она што се обидуваме да го процениме е средната вредност и стандардната девијација на популацијата користејќи нормална (Гаусова) дистрибуција.

```{r}
data(Howell1)
d <- Howell1
d$height
# за сега не интересира само висината на возрасни
d2 <- d[ d$age >= 18, ]
# tidy equivalent
# d2 <- d %>% filter(age >= 18)

```

